jQuery(document).ready(function(a){function r(r,t,e,o,s,l=0){var d={action:"add_ajax_comment_star",rating:r,post_id:t,name:e,email:o,message:s,parent:l,nonce_code:raitingStar.nonce};a("#vzstars_modal_error").modal(),jQuery.post(raitingStar.url,d,function(r){0==r&&a("#vzstars_modal_error .modal-body").html("Ошибка добавления комментария!"),1==r&&a("#vzstars_modal_error .modal-title").html("")})}a(".reviews_stars_add_wrap").mousemove(function(r){var t=a(this).offset(),e=t.left,o=r.pageX-e,s=a(this).attr("data-width"),l=Math.ceil(o/(s/5))*(s/5);a(this).find(".reviews_stars_add_hover").show().width(l)}),a(".reviews_stars_add_wrap").mouseleave(function(r){a(".reviews_stars_add_hover").hide().width(0)}),a(".reviews_stars_add_hover").on("click",function(r){var t=a(this).offset(),e=t.left,o=r.pageX-e,s=a(this).parent().attr("data-width"),l=Math.ceil(o/(s/5))*(s/5);a(this).parent().attr("data-value",Math.ceil(o/(s/5))),a(".reviews_stars_show_retair_add").width(l),a("#vzstars").val(Math.ceil(o/(s/5))),a("#vzstars_modal").modal("hide")});var t=a("#commentform");t.submit(function(e){let o=a("#vzstars").val(),s=a("#vzstars_post_id").val(),l=(t.serialize(),t.attr("action"),a("#author").val()),d=a("#email").val(),i=a("#comment").val(),m=a("#comment_parent").val(),_="",v=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return d?v.test(d)||(_+="Необходимо корректно указать Ваш email<br>"):_+="Заполните email<br>",l||(_+="Заполните Ваше Имя<br>"),i||(_+="Укажите сообщение<br>"),o?""!=_?(a("#vzstars_modal_error .modal-body").html(_),a("#vzstars_modal_error").modal(),!1):(a("#vzstars_modal_error .modal-body-loader").show(),a("#vzstars_modal_error .modal-body").html(""),a("#vzstars_modal_error .modal-body-loader").hide(),a("#vzstars_modal_error .modal-title").html('<span style="color: green;">Комментарий добавлен</span>'),a("#vzstars_modal_error .modal-body").html("После проверки, комментарий будет опубликован"),a("#comment").val(""),a("#author").val(""),a("#email").val(""),a("#vzstars").val(""),r(o,s,l,d,i,m),!1):(a("#vzstars_modal").modal(),!1)})});